var entryTypeUrls=[],sections={},responses=[];fetch(window.Craft.baseCpUrl+"/settings/sections/").then(function(a){return a.text()}).then(function(a){var b=new DOMParser,c=b.parseFromString(a,"text/html"),d=c.querySelectorAll("#sections tr a[href*=\"entrytypes/\"]");d.length&&d.forEach(function(a){entryTypeUrls.push([a.href])})}).then(()=>{entryTypeUrls.forEach(a=>getEntryTypeFields(a))});function getEntryTypeFields(a){fetch(a).then(function(a){return responses.push(a.status),a.text()}).then(function(a){var b=new DOMParser,c=b.parseFromString(a,"text/html"),d=c.querySelector("#handle"),e=c.querySelectorAll(".fld-tabs .fld-tab"),f={};e.length&&(e.forEach(function(a){var b=[];f={...f,[a.querySelector(".tab span").textContent]:b},a.querySelectorAll(".fld-field > span").forEach(a=>{b.push(a.title)})}),d&&(sections={...sections,[d.value]:f}))}).then(()=>{responses.length===entryTypeUrls.length&&responses.map((a,b)=>{if(200===a&&b===entryTypeUrls.length-1){var c=document.createElement("code");c.style="position: fixed;padding: 32px;bottom: 0;z-index: 500;background: black;color: white;max-height: calc(100vh - 64px);overflow: auto;";for(let[a,b]of Object.entries(sections).sort()){let d=[];for(let a of Object.entries(b).sort())d.push(a);c.innerHTML+=a+"<br / >"+d.map(a=>`\xa0\xa0`+a[0]+"<br />"+a[1].map(a=>"\xA0\xA0\xA0\xA0"+a+"<br />").join("")).join("")+"<br />"}document.body.appendChild(c)}})})}
